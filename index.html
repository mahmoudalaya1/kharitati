<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø®Ø±ÙŠØ·ØªÙŠ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet"
href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<link rel="stylesheet"
href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css"/>
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

<style>
html,body{margin:0;height:100%;font-family:Arial}
#map{height:100vh}

/* Ø²Ø± Ø§Ù„Ø­Ø³Ø§Ø¨ */
#accountBtn{
  position:fixed;
  bottom:20px;
  right:20px;
  width:55px;
  height:55px;
  border-radius:50%;
  background:#1976d2;
  color:#fff;
  font-size:26px;
  border:none;
  cursor:pointer;
  z-index:1000;
}

/* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ */
#loginBox{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:2000;
}

#loginBox .box{
  background:#fff;
  padding:20px;
  width:280px;
  border-radius:10px;
  text-align:center;
}

input,button{
  width:100%;
  padding:10px;
  margin-top:6px;
}

button.main{
  background:#1976d2;
  color:white;
  border:none;
  border-radius:6px;
}

button.gray{
  background:#555;
  color:white;
  border:none;
  border-radius:6px;
}
</style>
</head>

<body>

<!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
<div id="loginBox">
  <div class="box">
    <h3>Ø§Ù„Ø­Ø³Ø§Ø¨</h3>
    <input id="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
    <input id="password" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
    <button class="main" onclick="login()">Ø¯Ø®ÙˆÙ„</button>
    <button class="main" onclick="register()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
    <button class="gray" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
    <button onclick="closeLogin()">Ø¥ØºÙ„Ø§Ù‚</button>
  </div>
</div>

<button id="accountBtn" onclick="openLogin()">ğŸ‘¤</button>

<div id="map"></div>

<script>
/* Ø®Ø±ÙŠØ·Ø© */
const map = L.map('map').setView([36.2021,37.1343],13);

const normal = L.tileLayer(
'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
{attribution:'Â© OpenStreetMap'}
).addTo(map);

const terrain = L.tileLayer(
'https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png'
);

L.Control.geocoder({defaultMarkGeocode:true}).addTo(map);

/* ØªØ¯ÙˆÙŠØ± (Ø´ÙƒÙ„ÙŠ) */
let angle=0;
map.on("contextmenu",()=>{
  angle+=15;
  document.getElementById("map").style.transform=`rotate(${angle}deg)`
});

/* Ø¯Ø®ÙˆÙ„ Ù…Ø­Ù„ÙŠ (ØªØ¬Ø±ÙŠØ¨ÙŠ) */
function login(){
  if(!email.value||!password.value)
    return alert("Ø§Ù…Ù„Ø£ Ø§Ù„Ø­Ù‚ÙˆÙ„");
  localStorage.setItem("user",email.value);
  alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„");
  closeLogin();
}

function register(){
  login();
}

function logout(){
  localStorage.removeItem("user");
  alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬");
}

function openLogin(){
  document.getElementById("loginBox").style.display="flex";
}

function closeLogin(){
  document.getElementById("loginBox").style.display="none";
}
</script>

</body>
</html>

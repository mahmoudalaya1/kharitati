<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Chat Demo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial;background:#ece5dd}
.login, .chat{display:none;height:100vh}
.login{display:flex;align-items:center;justify-content:center}
.login box{background:#fff;padding:20px;border-radius:10px}
.chat{display:flex}
.sidebar{width:30%;background:#fff;border-left:1px solid #ccc}
.messages{flex:1;display:flex;flex-direction:column}
.header{background:#075e54;color:#fff;padding:10px}
.list{padding:10px}
.msgs{flex:1;padding:10px;overflow:auto}
.msg{background:#dcf8c6;margin:5px;padding:8px;border-radius:6px;max-width:70%}
.input{display:flex}
input{flex:1;padding:10px;border:none}
button{padding:10px;background:#25d366;border:none;color:#fff}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="login" id="login">
  <div class="box">
    <h3>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h3>
    <input id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"><br><br>
    <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
  </div>
</div>

<!-- CHAT -->
<div class="chat" id="chat">
  <div class="sidebar">
    <div class="header">Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª</div>
    <div class="list">ðŸ’¬ Ø¯Ø±Ø¯Ø´Ø© Ø¹Ø§Ù…Ø©</div>
  </div>

  <div class="messages">
    <div class="header" id="userHeader"></div>
    <div class="msgs" id="msgs"></div>
    <div class="input">
      <input id="text" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø©">
      <button onclick="send()">âž¤</button>
    </div>
  </div>
</div>

<script>
let user = localStorage.getItem("user");

if(user){
  startChat();
}else{
  document.getElementById("login").style.display="flex";
}

function login(){
  let u = document.getElementById("username").value;
  if(!u) return alert("Ø§Ø¯Ø®Ù„ Ø§Ø³Ù…");
  localStorage.setItem("user",u);
  startChat();
}

function startChat(){
  document.getElementById("login").style.display="none";
  document.getElementById("chat").style.display="flex";
  document.getElementById("userHeader").innerText = "ðŸ‘¤ " + localStorage.getItem("user");
}

function send(){
  let text = document.getElementById("text");
  if(!text.value) return;
  let box = document.createElement("div");
  box.className="msg";
  box.innerText = localStorage.getItem("user")+": "+text.value;
  document.getElementById("msgs").appendChild(box);
  text.value="";
}
</script>

</body>
</html>
